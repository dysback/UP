<div class="c-panel">
  <span class="element">number of stubs</span>
  <span class="col-xs-1">
    <select name ="nos" id="nos" class="form-control input-xxs">
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
    </select>
  </span>
  <span class="element">How are you paid?</span>
  <span class="col-xs-2">
    <select name="frequency" id="frequency" class="form-control input-xxs">
      <option value="1">Weekly</option>
      <option value="2">Biweekly</option>
      <option value="3">Semimonthly</option>
      <option value="4">Monthly</option>
      <option value="5">Annually</option>
    </select>
  </span>
  <span class="element">Select state</span>
  <span class="col-xs-2">
    <select name="state" id="state" class="form-control input-xxs">
      <option value="0">Select a State</option>
      <option value="al">Alabama</option>
      <option value="ak">Alaska</option>
      <option value="az">Arizona</option>
      <option value="ar">Arkansas</option>
      <option value="ca">California</option>
      <option value="co">Colorado</option>
      <option value="ct">Connecticut</option>
      <option value="de">Delaware</option>
      <option value="dc">District Of Columbia</option>
      <option value="fl">Florida</option>
      <option value="ga">Georgia</option>
      <option value="hi">Hawaii</option>
      <option value="id">Idaho</option>
      <option value="il">Illinois</option>
      <option value="in">Indiana</option>
      <option value="ia">Iowa</option>
      <option value="ks">Kansas</option>
      <option value="ky">Kentucky</option>
      <option value="la">Louisiana</option>
      <option value="me">Maine</option>
      <option value="md">Maryland</option>
      <option value="ma">Massachusetts</option>
      <option value="mi">Michigan</option>
      <option value="mn">Minnesota</option>
      <option value="ms">Mississippi</option>
      <option value="mo">Missouri</option>
      <option value="mt">Montana</option>
      <option value="ne">Nebraska</option>
      <option value="nv">Nevada</option>
      <option value="nh">New Hampshire</option>
      <option value="nj">New Jersey</option>
      <option value="nm">New Mexico</option>
      <option value="ny">New York</option>
      <option value="nc">North Carolina</option>
      <option value="nd">North Dakota</option>
      <option value="oh">Ohio</option>
      <option value="ok">Oklahoma</option>
      <option value="or">Oregon</option>
      <option value="pa">Pennsylvania</option>
      <option value="ri">Rhode Island</option>
      <option value="sc">South Carolina</option>
      <option value="sd">South Dakota</option>
      <option value="tn">Tennessee</option>
      <option value="tx">Texas</option>
      <option value="ut">Utah</option>
      <option value="vt">Vermont</option>
      <option value="va">Virginia</option>
      <option value="wa">Washington</option>
      <option value="wv">West Virginia</option>
      <option value="wi">Wisconsin</option>
      <option value="wy">Wyoming</option>
    </select>
  </span>
  <span class="col-xs-1">
    <input type="checkbox" name="SSN" id="SSN" class="form-control input-xxs" />
  </span>
  <span class="element">Entire SSN</span>
  <span class="r-element">
    <a id="advanced">Advanced</a>
  </span>
  <br /><br />
<div id="d-adv" style="overflow: visible; height: 40px; display: none" >
  <span class="element">Marital status</span>
  <span class="col-xs-2">
    <select name="marital" id="marital" class="form-control input-xxs">
      <option value="1">Single</option>
      <option value="2">Married</option>
    </select>
  </span>
  <span class="element">Exemptions</span>
  <span class="col-xs-1">
    <select name ="exemptions" id="exemptions" class="form-control input-xxs">
      <option value="0">0</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
    </select>
  </span>
  <span class="element">Pay Period YTD</span>
  <span class="col-xs-1">
    <select name ="period" id="period" class="form-control input-xxs">
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
      <option value="13">13</option>
      <option value="14">14</option>
      <option value="15">15</option>
      <option value="16">16</option>
      <option value="17">17</option>
      <option value="18">18</option>
      <option value="19">19</option>
      <option value="20">20</option>
      <option value="21">21</option>
      <option value="22">22</option>
      <option value="23">23</option>
      <option value="24">24</option>
      <option value="25">25</option>
      <option value="26">26</option>
      <option value="27">27</option>
      <option value="28">28</option>
      <option value="29">29</option>
      <option value="30">30</option>
      <option value="31">31</option>
      <option value="32">32</option>
      <option value="33">33</option>
      <option value="34">34</option>
      <option value="35">35</option>
      <option value="36">36</option>
      <option value="37">37</option>
      <option value="38">38</option>
      <option value="39">39</option>
      <option value="40">40</option>
      <option value="41">41</option>
      <option value="42">42</option>
      <option value="43">43</option>
      <option value="44">44</option>
      <option value="45">45</option>
      <option value="46">46</option>
      <option value="47">47</option>
      <option value="48">48</option>
      <option value="49">49</option>
      <option value="50">50</option>
      <option value="51">51</option>
      <option value="52">52</option>
    </select>
  </span>
  <span class="element">Auto Calculator</span>
  <span class="col-xs-2">
    <select name="auto" id="auto" class="form-control input-xxs">
      <option value="1">On</option>
      <option value="2">Off</option>
    </select>
  </span>
</div>
  <!--<br /><br />-->
<div style="clear:both"></div>
  <span class="col-xs-3"><input type="checkbox" name="ec" id="ec"></span>
  <span class="col-xs-3"><input type="checkbox" name="hs" id="hs"></span>
  <span id="sAnnual" style="display: none;">
    <span class="element">Annual: </span>
    <span class="col-xs-2">
      <input type="text" name="annual" id="annual" class="form-control input-xxs" />
    </span>
  </span>
  <br /><br />
  Deposit slip (+4.99): <input type="checkbox" name="deposit" id="deposit" >
</div>
<script type="text/javascript" src="/js/taxes.js"></script>
<script>
  //$.getScript('/js/taxes.js');
  var mode = "E";
  var sMode = "H";
  var auto = true;
  var e_rp
  var s_rp
  var pay_date, picker;
  var frequency = 1;
  var arrFrequency = [0, 1, 2, 2, 4, 1];
  var rate;


  $(document).ready(function() {
    $("#ec").bootstrapSwitch({
    		onText: "Employee",
        offText: "Contractor",
        onColor: "psgblue",
        offColor: "psgblue",
        onSwitchChange: function() {
          if(mode == "E") {
            mode = "C";
            $("#c-e").html("CONTRACTOR NAME / ADDRESS");
            $("#c-eID").html("CONTRACTOR ID");
            $("#employee_name").attr("placeholder", "Contractor name here");
            $("#employee_address").attr("placeholder", "Contractor address here");

            $("#fica_mc").val("0.00");
            $("#fica_ss").val("0.00");
            $("#fica_tax").val("0.00");

            $("#ficay_mc").val("0.00");
            $("#ficay_ss").val("0.00");
            $("#ficay_tax").val("0.00");

            $("#deductions").val("0.00");
            $("#net_pay").val("0.00");
            $("#ytd_deductions").val("0.00");
            $("#ytd_net_pay").val("0.00");


          } else {
            mode = "E";
            $("#c-e").html("EMPLOYEE NAME / ADDRESS");
            $("#c-eID").html("EMPLOYEE ID");
            $("#employee_name").attr("placeholder", "Employee name here");
            $("#employee_address").attr("placeholder", "Employee address here");
            calcCurrent_pay();
          }
        },
    });

    $("#hs").bootstrapSwitch({
      onText: "Salary",
      offText: "Hourly",
      onColor: "psgblue",
      offColor: "psgblue",
      onSwitchChange: function() {
        $("#sAnnual").toggle();
        $("#current_pay").toggleClass("noedit");
        $("#hours").toggle();
        if(sMode == "H") {
          sMode = "S";
          rate = $("#rate").val();
          $("#rate").attr("type", "text");
          $("#rate").val("Salary");
          $("#current_pay").prop("readonly", false);

        } else {
          sMode = "H";
          $("#rate").attr("type", "number");
          $("#rate").val(rate);
          $("#current_pay").prop("readonly", true);
          calcCurrent_pay();
        }
      },

    });

    $("#deposit").bootstrapSwitch({
      onText: "Yes",
      offText: "No",
      onColor: "psgblue",
      offColor: "psgblue",
      onSwitchChange: function() {
        $("#deposit-slip").slideToggle();
      },

  	});

    $("#advanced").click(function() {
      $("#d-adv").slideToggle();
    });

    $("#deposit").click(function() {
      $("#deposit-slip").slideToggle();
    });

    $("#frequency").change(function() {
      var oldf = arrFrequency[frequency]
      frequency = $(this).val();
      //console.log(oldf, frequency);
      $("#hours").val(Math.round($("#hours").val() * arrFrequency[frequency] / arrFrequency[oldf]));
      var fr = new FederalTax();
      console.log(fr.frequency[frequency].periods);

      setOpionNrRange("#period", 1, fr.frequency[$(this).val()].periods);
      calcCurrent_pay();
    });


  })

</script>
